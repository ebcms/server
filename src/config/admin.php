<?php

use App\Ebcms\Server\Model\Server;
use DigPHP\Framework\Framework;
use DigPHP\Router\Router;

return [
    'menus' => Framework::execute(function (
        Server $server,
        Router $router
    ): array {
        $res = [];
        if ($data = $server->query('/check')) {
            if ($data['status']) {
                $res[] = [
                    'title' => '系统升级',
                    'url' => $router->build('/ebcms/server/index'),
                    'priority' => 0,
                    'badge' => '请升级',
                    'icon' => 'data:image/svg+xml;base64,' . base64_encode('<svg class="icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32504"><path d="M510.49472 962.56a452.38784 452.38784 0 0 1-56.54528-3.584 64.57344 64.57344 0 0 1-54.784-50.79552 143.6928 143.6928 0 0 0-181.9392-107.76064 63.90272 63.90272 0 0 1-70.144-23.28576A450.83136 450.83136 0 0 1 93.696 681.19552a63.81568 63.81568 0 0 1 12.84096-67.21536 143.62112 143.62112 0 0 0 38.70208-98.304 143.32416 143.32416 0 0 0-40.2176-99.84 63.67744 63.67744 0 0 1-13.824-66.8672 450.85696 450.85696 0 0 1 60.89728-108.92288 64 64 0 0 1 67.77344-23.00928A143.78496 143.78496 0 0 0 397.98784 113.664a63.488 63.488 0 0 1 52.88448-48.2048 448.9472 448.9472 0 0 1 138.43968 3.0208 63.76448 63.76448 0 0 1 49.87904 46.77632 143.64672 143.64672 0 0 0 168.09472 104.08448 63.75936 63.75936 0 0 1 64.13824 23.97184 449.67936 449.67936 0 0 1 61.80864 114.9952 63.60064 63.60064 0 0 1-11.95008 63.1808 144.08192 144.08192 0 0 0-1.07008 187.11552 63.27808 63.27808 0 0 1 10.80832 63.232 449.93024 449.93024 0 0 1-54.71232 102.07744 62.82752 62.82752 0 0 1-65.7664 24.1152 143.72352 143.72352 0 0 0-172.64128 108.63104 64.0256 64.0256 0 0 1-51.712 49.46432A451.00032 451.00032 0 0 1 510.49472 962.56z m-251.85792-224.0256A200.36608 200.36608 0 0 1 453.632 896.56832a8.704 8.704 0 0 0 7.30624 7.05024 396.0576 396.0576 0 0 0 115.87584-2.49856 8.38144 8.38144 0 0 0 6.73792-6.656 199.35744 199.35744 0 0 1 239.54944-150.77888 7.63904 7.63904 0 0 0 7.92064-2.2528 394.13248 394.13248 0 0 0 47.9232-89.41056 7.43424 7.43424 0 0 0-1.2544-7.35232 199.98208 199.98208 0 0 1 1.49504-259.71712 7.68 7.68 0 0 0 1.68448-7.59296 394.24 394.24 0 0 0-54.13888-100.736 7.94624 7.94624 0 0 0-8.12032-2.6368A199.33184 199.33184 0 0 1 585.33376 129.536a7.92576 7.92576 0 0 0-5.80608-6.10816A393.60512 393.60512 0 0 0 458.24 120.7808a8.32512 8.32512 0 0 0-6.26688 6.54336 199.424 199.424 0 0 1-247.1168 143.44192 8.0896 8.0896 0 0 0-8.38656 3.01056A394.752 394.752 0 0 0 143.1552 369.20832a7.68 7.68 0 0 0 1.99168 7.92576 198.92224 198.92224 0 0 1 55.808 138.56256 199.27552 199.27552 0 0 1-53.7088 136.38656 7.81824 7.81824 0 0 0-1.93024 8.1152 394.752 394.752 0 0 0 46.7456 84.05504 8.13568 8.13568 0 0 0 9.088 2.74432 198.656 198.656 0 0 1 57.48736-8.46336z" fill="#2966C1" p-id="32505"></path><path d="M508.61568 653.24032a142.3104 142.3104 0 1 1 142.09024-142.3104 142.336 142.336 0 0 1-142.09024 142.3104z m0-229.0944a86.78912 86.78912 0 1 0 86.656 86.784 86.81472 86.81472 0 0 0-86.656-86.784z" fill="#FD9A16" p-id="32506"></path></svg>'),
                ];
            }
        }
        return $res;
    })
];
